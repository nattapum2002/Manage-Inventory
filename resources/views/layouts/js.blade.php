<script src="https://cdn.ckeditor.com/ckeditor5/23.0.0/classic/ckeditor.js"></script>

<!-- jQuery -->
<script src="{{ asset('backend/plugins/jquery/jquery.min.js') }}"></script>
<!-- Bootstrap 4 -->
<script src="{{ asset('backend/plugins/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
<!-- DataTables  & Plugins -->
{{-- <script src="{{ asset('backend/plugins/datatables/jquery.dataTables.min.js') }}"></script>
<script src="{{ asset('backend/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js') }}"></script>
<script src="{{ asset('backend/plugins/datatables-responsive/js/dataTables.responsive.min.js') }}"></script>
<script src="{{ asset('backend/plugins/datatables-responsive/js/responsive.bootstrap4.min.js') }}"></script>
<script src="{{ asset('backend/plugins/datatables-buttons/js/dataTables.buttons.min.js') }}"></script>
<script src="{{ asset('backend/plugins/datatables-buttons/js/buttons.bootstrap4.min.js') }}"></script>
<script src="{{ asset('backend/plugins/jszip/jszip.min.js') }}"></script>
<script src="{{ asset('backend/plugins/pdfmake/pdfmake.min.js') }}"></script>
<script src="{{ asset('backend/plugins/pdfmake/vfs_fonts.js') }}"></script>
<script src="{{ asset('backend/plugins/datatables-buttons/js/buttons.html5.min.js') }}"></script>
<script src="{{ asset('backend/plugins/datatables-buttons/js/buttons.print.min.js') }}"></script>
<script src="{{ asset('backend/plugins/datatables-buttons/js/buttons.colVis.min.js') }}"></script> --}}
<!-- CodeMirror -->
<script src="{{ asset('backend/plugins/codemirror/codemirror.js') }}"></script>
<script src="{{ asset('backend/plugins/codemirror/mode/css/css.js') }}"></script>
<script src="{{ asset('backend/plugins/codemirror/mode/xml/xml.js') }}"></script>
<script src="{{ asset('backend/plugins/codemirror/mode/htmlmixed/htmlmixed.js') }}"></script>
<!-- Summernote -->
<script src="{{ asset('backend/plugins/summernote/summernote-bs4.min.js') }}"></script>
<!-- AdminLTE App -->
<script src="{{ asset('backend/dist/js/adminlte.min.js') }}"></script>
<!-- Select2 -->
<script src="{{ asset('backend/plugins/select2/js/select2.full.min.js') }}"></script>
<!-- Bootstrap4 Duallistbox -->
<script src="{{ asset('backend/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js') }}"></script>
<!-- InputMask -->
<script src="{{ asset('backend/plugins/moment/moment.min.js') }}"></script>
<script src="{{ asset('backend/plugins/inputmask/jquery.inputmask.min.js') }}"></script>
<!-- date-range-picker -->
<script src="{{ asset('backend/plugins/daterangepicker/daterangepicker.js') }}"></script>
<!-- bootstrap color picker -->
<script src="{{ asset('backend/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js') }}"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="{{ asset('backend/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js') }}"></script>
<!-- Bootstrap Switch -->
<script src="{{ asset('backend/plugins/bootstrap-switch/js/bootstrap-switch.min.js') }}"></script>
<!-- BS-Stepper -->
<script src="{{ asset('backend/plugins/bs-stepper/js/bs-stepper.min.js') }}"></script>
<!-- dropzonejs -->
<script src="{{ asset('backend/plugins/dropzone/min/dropzone.min.js') }}"></script>

{{-- <script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous">
</script> --}}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script
    src="https://cdn.datatables.net/v/bs5/jszip-3.10.1/dt-2.1.8/af-2.7.0/b-3.1.2/b-colvis-3.1.2/b-html5-3.1.2/b-print-3.1.2/cr-2.0.4/date-1.5.4/fc-5.0.4/fh-4.0.1/kt-2.12.1/r-3.0.3/rg-1.5.0/rr-1.5.0/sc-2.4.3/sb-1.8.1/sp-2.3.3/sl-2.1.0/sr-1.4.1/datatables.min.js">
</script>
{{-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> --}}
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

<!-- chart.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.cjs"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.cjs.map"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.js.map"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.js.map"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>

{{-- <script src="//cdn.datatables.net/plug-ins/2.1.8/i18n/th.json"></script> --}}
<script>
    $(document).ready(function() {
        $('#edit-pallet-type').on('click', function() {
            
            if ($(this).hasClass('btn-primary')) {
                // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"
                showEditPalletType($(this));
            } else {
                // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                hideEditPalletType($(this));
            }

        });

        $('#cancel-edit-pallet-type').on('click', function() {
            $('#edit-pallet-type').removeClass('btn-success').addClass('btn-primary').attr('type',
                'button').text('‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô');
            $('#edit-pallet-type-select').attr('disabled', true);
            $(this).attr('hidden', true);
        })

        function showEditPalletType(btn) {
            $('#edit-pallet-type-select').removeAttr('disabled');
            $('#cancel-edit-pallet-type').removeAttr('hidden');
            $(btn).removeClass('btn-primary').addClass('btn-success').attr('type','button').text('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å');
        };

        function hideEditPalletType(btn) {
            $('#cancel-edit-pallet-type').attr('hidden', true);
            $(btn).removeClass('btn-success').addClass('btn-primary').attr('type', 'submit').text('‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô');
        };
    });
</script>
<script>
    $(document).ready(function() {
        $('[id^="warehouse-name"]').each(function() {
            let warehouse = $(this).text().trim(); // ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å td (‡∏•‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á)

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
            if (warehouse === '1') {
                $(this).text('Cold-A');
            } else if (warehouse === '2') {
                $(this).text('Cold-C');
            } else if (warehouse === '3') {
                $(this).text('Blood');
            }
        });
        $('[id^="work-type"]').each(function() {
            let work_type = $(this).text().trim(); // ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å td (‡∏•‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á)

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
            if (work_type === '1') {
                $(this).text('‡πÅ‡∏¢‡∏Å‡∏à‡πà‡∏≤‡∏¢');
            } else if (work_type === '2') {
                $(this).text('‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î');
            } else if (work_type === '3') {
                $(this).text('‡πÄ‡∏•‡∏∑‡∏≠‡∏î');
            }
        });
    })
</script>
<script>
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° item ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô autocomplete
    let item_count = 1;

    $('#add-item').click(function() {
        item_count++;

        $('#item-row').append(`
        <hr>
        <div class="row" id="item-${item_count}">
            <div class="col-lg-2 col-md-3 col-sm-12">
                <div class="form-group">
                    <label for="room_id_${item_count}" class="form-label">‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö</label>
                    <select name="room[${item_count}]" class="form-control" id="room_id_${item_count}">
                        <option value="" selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö</option>
                        <option value="Cold-A">Cold-A</option>
                        <option value="Cold-C">Cold-C</option>
                    </select>
                </div>
            </div>
            <div class="col-lg-2 col-md-3 col-sm-12">
                <div class="form-group">
                    <label for="item_id_${item_count}" class="form-label">${item_count} ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <input type="text" class="form-control" id="item_id_${item_count}" name="product_id[${item_count}]" readonly>
                    <input type="hidden" class="form-control" id="save_item_id_${item_count}" name="save_item_id[${item_count}]"
                                        readonly="">
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-12">
                <div class="form-group">
                    <label for="item_name_${item_count}" class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <input type="text" class="form-control" id="item_name_${item_count}" name="item_name[${item_count}]">
                </div>
            </div>
            <div class="col-lg-4 col-md-12 col-sm-12">
                <div class="form-group">
                    <label for="item_comment_${item_count}" class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                    <input type="text" class="form-control" id="item_comment_${item_count}" name="item_comment[${item_count}]">
                </div>
            </div>
                <div class="col-11">
                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-12">
                            <div class="form-group">
                                <label for="item_amount_${item_count}" class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                                <input type="number" class="form-control" id="item_quantity_${item_count}" name="item_quantity[${item_count}]">
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12">
                            <div class="form-group">
                                <label for="item_um_${item_count}" class="form-label">‡∏´‡∏ô‡πà‡∏ß‡∏¢</label>
                                <input type="text" class="form-control" id="item_um_${item_count}" name="product_um[${item_count}]" disabled>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12">
                            <div class="form-group">
                                <label for="item_weight_${item_count}" class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                                <input type="number" class="form-control" id="item_quantity2_${item_count}" name="item_quantity2[${item_count}]">
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12">
                            <div class="form-group">
                                <label for="item_um2_${item_count}" class="form-label">‡∏´‡∏ô‡πà‡∏ß‡∏¢</label>
                                <input type="text" class="form-control" id="item_um2_${item_count}" name="product_um2[${item_count}]" disabled>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-1">
                        <div class="form-group text-center">
                            <label for="remove-item" class="form-label">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</label>
                            <button type="button" class="btn btn-danger remove-item">‡∏•‡∏ö</button>
                        </div>
                </div>
        </div>
    `);

        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô autocomplete ‡∏Å‡∏±‡∏ö‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
        initializeAutocomplete(`#item_name_${item_count}`, `#item_id_${item_count}`, `#item_um_${item_count}`,
            `#item_um2_${item_count}`, `#room_id_${item_count}`, `#save_item_id_${item_count}`);
    });

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô autocomplete
    function initializeAutocomplete(nameSelector, idSelector, umSelector, um2Selector, roomSelector,
        save_item_idSelector) {
        $(nameSelector).autocomplete({
            source: function(request, response) {
                $.ajax({
                    url: "{{ route('autocomplete') }}",
                    data: {
                        query: request.term,
                        // room: $(roomSelector).val()
                    },
                    success: function(data) {
                        response(data); // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á autocomplete
                    },
                    error: function(xhr, status, error) {
                        console.log(xhr.responseText);
                    }
                });
            },
            minLength: 0, // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏û‡∏¥‡∏°‡∏û‡πå‡πÑ‡∏õ 2 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
            select: function(event, ui, response) {
                // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡∏¥‡∏°‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ü‡∏¥‡∏•‡∏î‡πå product_id
                $(idSelector).val(ui.item.product_no); // ‡πÄ‡∏ï‡∏¥‡∏°‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                $(nameSelector).val(ui.item.value); // ‡πÄ‡∏ï‡∏¥‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                $(umSelector).val(ui.item.product_um ? ui.item.product_um : '‡πÑ‡∏°‡πà‡∏°‡∏µ');
                $(um2Selector).val(ui.item.product_um2 ? ui.item.product_um2 : '‡πÑ‡∏°‡πà‡∏°‡∏µ');
                $(save_item_idSelector).val(ui.item.id);
                // $(roomSelector).val(ui.item.room);
                console.log(200);
            }
        });

        $(nameSelector).focus(function() {
            $(this).autocomplete('search', ''); // ‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á autocomplete ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
        });
    }
    initializeAutocomplete('#item_name_1', '#item_id_1', '#item_um_1', '#item_um2_1', '#room_id_1', '#save_item_id_1');

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏ö‡πÅ‡∏ñ‡∏ß
    $(document).on('click', '.remove-item', function() {
        item_count--;
        $(this).closest('[id^="item-"]').remove();
    });
</script>
{{-- ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå SlipDetail --}}
<script>
    $(document).ready(function() {
        let fields = ['department', 'quantity', 'quantity2', 'comment'];

        function hideEdit(edit_slip_productId) {
            fields.forEach(function(field) {
                $('#' + field + '_' + edit_slip_productId).show();
                $('#edit_' + field + '_' + edit_slip_productId).hide();
            });

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏∏‡πà‡∏° "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å" ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç"
            $('.save_btn').text('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç').removeClass('btn-success')
                .addClass('btn-primary').removeClass('save_btn').addClass('edit_slip');
            $('#cancel_edit_' + edit_slip_productId).hide();
        }

        $(document).on('click', '.edit_slip', function() {
            let edit_slip_productId = $(this).data('product-id'); // ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ product_id ‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏°
            let edit_slip_productCode = $(this).data('product-code');
            fields.forEach(function(field) {
                $('#' + field + '_' + edit_slip_productId).hide();
                $('#edit_' + field + '_' + edit_slip_productId).show();
            });

            $('#cancel_edit_' + edit_slip_productId).show();
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" ‡πÄ‡∏õ‡πá‡∏ô "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"
            $(this).text('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å').removeClass('btn-primary').addClass('btn-success')
                .removeClass('edit_slip').addClass('save_btn').attr('type', 'button');
            $('#cancel_edit_' + edit_slip_productId).click(function() {
                hideEdit(edit_slip_productId);
            });

        });

        // Handle saving data when clicking the "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å" button
        $(document).on('click', '.save_btn', function() {
            let edit_slip_productId = $(this).data('product-id');
            let data_slip = {};
            let edit_slip_productCode = $(this).data('product-code');

            // ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≤‡∏Å input
            $.each(fields, function(index, field) {
                data_slip[field] = $('#edit_' + field + '_' + edit_slip_productId).val();
            });

            // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå (Ajax)
            $.ajax({
                url: "{{ route('EditSlip') }}", // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á URL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                method: "POST",
                dataType: "json",
                data: {
                    _token: '{{ csrf_token() }}',
                    product_id: edit_slip_productId,
                    product_edit: data_slip,
                    product_code: edit_slip_productCode
                },

                success: function(response) {
                    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á
                    fields.forEach(function(field) {
                        $('#' + field + '_' + edit_slip_productId).text(data_slip[
                            field]);
                    });
                    console.log(response);
                    // ‡∏ã‡πà‡∏≠‡∏ô input ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà
                    hideEdit(edit_slip_productId);
                    alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πç‡∏≤‡πÄ‡∏£‡πá‡∏à');
                },
                error: function(xhr, status, error) {
                    alert('‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                    console.log(xhr.responseText);
                }
            });
        });
    });
</script>

<script>
    $('#team').autocomplete({
        source: function(request, response) {
            $.ajax({
                url: "{{ route('AutocompleteSearchTeam') }}",
                data: {
                    query: request.term
                },
                success: function(data) {
                    response(data); // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á autocomplete
                },
                error: function(xhr, status, error) {
                    alert('‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                    console.log(xhr.responseText);
                }
            });
        },
        minLength: 0, // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏û‡∏¥‡∏°‡∏û‡πå‡πÑ‡∏õ 2 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
        select: function(event, ui) {
            $('#team-id').val(ui.item.team_id);
        }
    })
    $('#team').focus(function() {
        $(this).autocomplete('search', ''); // ‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á autocomplete ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    });
</script>
{{-- ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå SlipDetail --}}
{{-- <script>
    var user_count = 1;

    $('#add-user').click(function() {
        user_count++;
        $('#add-user-shift').append(`
        <div class="row" id="user-${user_count}">
            <div class="col-11">
                <div class="row">
                    <div class="col-lg-3 col-md-6 col-sm-12">
                        <div class="form-group">
                            <label for="user_id[${user_count}]" class="form-label">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
                            <input type="text" class="form-control" id="user_id${user_count}" name="user_id[${user_count}]" readonly>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-12">
                        <div class="form-group">
                            <label for="name[${user_count}]" class="form-label">‡∏ä‡∏∑‡πà‡∏≠</label>
                            <input type="text" class="form-control" id="name${user_count}" name="name[${user_count}]">
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-12">
                        <div class="form-group">
                            <label for="surname[${user_count}]" class="form-label">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                            <input type="text" class="form-control" id="surname${user_count}" name="surname[${user_count}]" disabled>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-12">
                        <div class="form-group">
                            <label for="position[${user_count}]" class="form-label">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
                            <input type="text" class="form-control" id="position${user_count}" name="position[${user_count}]" disabled>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-1">
                    <label for="remove-user" class="form-label">#</label>
                <div class="form-group">
                    <button type="button" class="btn btn-danger remove-user">‡∏•‡∏ö</button>
                </div>
            </div>
        </div>
    `);
        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô autocomplete ‡∏Å‡∏±‡∏ö‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
        initializeShiftAutocomplete(`#name${user_count}`, `#user_id${user_count}`, `#surname${user_count}`,
            `#position${user_count}`);
    });

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏ö‡πÅ‡∏ñ‡∏ß
    $(document).on('click', '.remove-user', function() {
        $(this).closest('[id^="user-"]').remove();
    });

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö autocomplete
    function initializeShiftAutocomplete(nameSelector, idSelector, surnameSelector, positionSelector) {
        $(nameSelector).autocomplete({
            source: function(request, response) {
                $.ajax({
                    url: "{{ route('AutoCompleteAddShift') }}",
                    data: {
                        query: request.term
                    },
                    success: function(data) {
                        console.log(data);
                        response(data); // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á autocomplete
                    }
                });
            },
            minLength: 0, // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏û‡∏¥‡∏°‡∏û‡πå‡πÑ‡∏õ 2 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
            select: function(event, ui) {
                // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡∏¥‡∏°‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ü‡∏¥‡∏•‡∏î‡πå product_id
                $(idSelector).val(ui.item.user_id); // ‡πÄ‡∏ï‡∏¥‡∏°‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                $(nameSelector).val(ui.item.name); // ‡πÄ‡∏ï‡∏¥‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                $(surnameSelector).val(ui.item.surname);
                $(positionSelector).val(ui.item.position);
            }
        });

        $(nameSelector).focus(function() {
            $(this).autocomplete('search', ''); // ‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á autocomplete ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
        });
    }
    initializeShiftAutocomplete(`#name0`, `#user_id0`, `#surname0`, `#position0`);
</script> --}}


<script>
    $(function() {
        $("#userstable").DataTable({
            info: true,
            ordering: true,
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            paging: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#product_storetable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#stocktable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#customer_ordertable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#detail_customer_ordertable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#pallettable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#DetailPallettable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#CustomerQueuetable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#Shifttable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $("#locktable").DataTable();
        
        $("#arrange-lock-table").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            layout: {
                topStart: {
                    buttons: [
                        'copy', 'excel', 'pdf'
                    ]
                }
            }
        });
        $("#producttable").DataTable({
            responsive: true,
            lengthChange: true,
            autoWidth: true,
            // scrollX: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // }
        });
        $('#product_stock-all-table').DataTable({
            info: false,
            ordering: true,
            paging: true
        });
        $('#stock_per_date').DataTable({
            info: false,
            ordering: false,
            paging: true
        });
        $('#slip_per_date').DataTable({
            info: false,
            ordering: true,
            paging: true
        });
        $('#item_per_slip').DataTable({
            info: false,
            ordering: false,
            paging: true,
            // layout: {
            //     topStart: {
            //         buttons: [
            //             'copy', 'excel', 'pdf'
            //         ]
            //     }
            // },
        });
        $('#queue-all-table').DataTable({
            info: false,
            ordering: true,
            paging: true
        })
        $('#customer-queue-pallet-detail').DataTable({
            info: false,
            ordering: true,
            paging: true
        })
        $('#Em-Pallet').DataTable({
            info: false,
            ordering: false,
            paging: true,
            scrollX: true,
            order: [
                [0, 'asc'],
                [2, 'desc']
            ]
        })
        $('#Em-Pallet-detail').DataTable({
            info: false,
            ordering: true,
            paging: true,
            scrollX: true
        })
        $('#incentive-date-table').DataTable({
            info: false,
            ordering: true,
            paging: true
        })
        $('#incentive-Em-table').DataTable({
            info: false,
            ordering: true,
            paging: true
        })
        $('#incentive-Em-detail-table').DataTable({
            info: false,
            ordering: true,
            paging: true,
            autoWidth: true,
            scrollX: true
        })
    });
</script>

<script>
    // Tooltipüòäüòäüòä
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
</script>
{{-- <script>
    // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ Alert ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    document.addEventListener('DOMContentLoaded', function() {
        const alerts = document.querySelectorAll('.auto-dismiss-alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                alert.classList.remove('show'); // ‡∏ã‡πà‡∏≠‡∏ô Alert
                alert.classList.add('fade'); // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå fade-out
            }, 3000); // ‡πÅ‡∏™‡∏î‡∏á 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        });
    });
</script> --}}


@yield('script')
